{
    "description": "Validation rules for the FAANG project. Rules are divided into one group that is applied to all samples, and additional groups based on the sample type.",
    "name": "FAANG sample metadata rules",
    "rule_groups": [
        {
            "name": "standard",
            "rules": [
                {
                    "mandatory": "optional",
                    "name": "description",
                    "type": "text"
                },
                {
                    "_comment": "Covers organism, tissue specimen, cell specimen, pool of specimens, cell culture",
                    "mandatory": "mandatory",
                    "name": "material",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": [
                        "http://purl.obolibrary.org/obo/OBI_0100026",
                        "http://purl.obolibrary.org/obo/OBI_0001479",
                        "http://purl.obolibrary.org/obo/OBI_0001468",
                        "http://purl.obolibrary.org/obo/OBI_0302716",
                        "http://purl.obolibrary.org/obo/OBI_0001876"
                    ]
                },
                {
                    "mandatory": "optional",
                    "name": "availability",
                    "type": "text"
                }
            ]
        },
        {
            "condition": "/attributes/*/*[key eq 'name' && value eq 'material']/../*[key eq 'uri' && value eq 'http://purl.obolibrary.org/obo/OBI_0100026']",
            "name": "animal",
            "rules": [
                {
                    "_comment": "#TODO add NCBI taxon validation",
                    "mandatory": "mandatory",
                    "name": "species",
                    "type": "number"
                },
                {
                    "mandatory": "mandatory",
                    "name": "sex",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": "http://purl.obolibrary.org/obo/PATO_0000047"
                },
                {
                    "_comment": "#TODO add date type, to support IS0 8601 dates",
                    "mandatory": "mandatory",
                    "name": "birth date",
                    "type": "text",
                    "valid_units": [
                        "YYYY-MM-DD"
                    ]
                },
                {
                    "_comment": "#TODO LBO is not in OLS yet",
                    "mandatory": "mandatory",
                    "name": "breed",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": "http://purl.obolibrary.org/obo/LBO_0000000"
                },
                {
                    "mandatory": "mandatory",
                    "name": "health status",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": [
                        "http://purl.obolibrary.org/obo/PATO_0000461",
                        "http://www.ebi.ac.uk/efo/EFO_0000408"
                    ]
                },
                {
                    "mandatory": "optional",
                    "name": "birth location",
                    "type": "text"
                },
                {
                    "mandatory": "optional",
                    "name": "birth location longitude",
                    "type": "number",
                    "valid_units": [
                        "decimal degrees"
                    ]
                },
                {
                    "mandatory": "optional",
                    "name": "birth location latitude",
                    "type": "number",
                    "valid_units": [
                        "decimal degrees"
                    ]
                },
                {
                    "_comment": "#TODO dd ATOL and EOL once available in OLS",
                    "allow_multiple": "true",
                    "mandatory": "optional",
                    "name": "phenotype",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": [
                        "http://purl.obolibrary.org/obo/VT_0000001"
                    ]
                },
                {
                    "_comment": "#TODO add full EOL URI once available in OLS",
                    "allow_multiple": "true",
                    "mandatory": "optional",
                    "name": "environmental conditions",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": "EOL:0000001"
                },
                {
                    "mandatory": "optional",
                    "name": "birth weight",
                    "type": "number",
                    "valid_units": [
                        "kilograms"
                    ]
                },
                {
                    "mandatory": "optional",
                    "name": "placental weight",
                    "type": "number",
                    "valid_units": [
                        "kilograms"
                    ]
                },
                {
                    "mandatory": "optional",
                    "name": "pregnancy length",
                    "type": "number",
                    "valid_units": [
                        "days",
                        "weeks",
                        "months"
                    ]
                },
                {
                    "mandatory": "optional",
                    "name": "delivery timing",
                    "type": "text"
                },
                {
                    "mandatory": "optional",
                    "name": "delivering ease",
                    "type": "text"
                }
            ]
        },
        {
            "condition": "/attributes/*/*[key eq 'name' && value eq 'material']/../*[key eq 'uri' && value eq 'http://purl.obolibrary.org/obo/OBI_0001479']",
            "name": "specimen",
            "rules": [
                {
                    "_comment": "#TODO date type",
                    "mandatory": "mandatory",
                    "name": "specimen_collection_date",
                    "type": "text",
                    "valid_units": [
                        "YYYY-MM-DD"
                    ]
                },
                {
                    "mandatory": "mandatory",
                    "name": "animal age at collection",
                    "type": "number",
                    "valid_units": [
                        "years",
                        "months",
                        "weeks",
                        "days"
                    ]
                },
                {
                    "mandatory": "mandatory",
                    "name": "animal health status at collection",
                    "type": "text"
                },
                {
                    "mandatory": "mandatory",
                    "name": "tissue",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": [
                        "http://purl.obolibrary.org/obo/UBERON_0001062"
                    ]
                },
                {
                    "_comment": "#TODO - url to protocol needs rule type",
                    "mandatory": "mandatory",
                    "name": "specimen collection protocol",
                    "type": "text"
                },
                {
                    "mandatory": "optional",
                    "name": "fasted status",
                    "type": "enum",
                    "valid_values": [
                        "fed",
                        "fasted",
                        "unknown"
                    ]
                },
                {
                    "_comment": "#TODO add full ATOL URI once available in OLS",
                    "allow_multiple": "true",
                    "mandatory": "optional",
                    "name": "physiological conditions",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": "EOL:0000001"
                },
                {
                    "mandatory": "optional",
                    "name": "number of pieces",
                    "type": "number",
                    "valid_units": [
                        "count"
                    ]
                },
                {
                    "mandatory": "optional",
                    "name": "specimen volume",
                    "type": "number",
                    "valid_units": [
                        "square centimeters",
                        "liters",
                        "milliliters"
                    ]
                },
                {
                    "mandatory": "optional",
                    "name": "specimen size",
                    "type": "number",
                    "valid_units": [
                        "meters",
                        "centimeters",
                        "millimeters"
                    ]
                },
                {
                    "mandatory": "optional",
                    "name": "specimen weight",
                    "type": "number",
                    "valid_units": [
                        "grams",
                        "kilograms"
                    ]
                },
                {
                    "allow_multiple": "true",
                    "mandatory": "optional",
                    "name": "specimen picture url",
                    "type": "url"
                }
            ]
        },
        {
            "condition": "/attributes/*/*[key eq 'name' && value eq 'material']/../*[key eq 'uri' && value eq 'http://purl.obolibrary.org/obo/OBI_0001468']",
            "name": "purified_cells",
            "rules": [
                {
                    "mandatory": "mandatory",
                    "name": "markers",
                    "type": "text"
                },
                {
                    "mandatory": "mandatory",
                    "name": "cell type",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": [
                        "http://purl.obolibrary.org/obo/CL_0000000"
                    ]
                },
                {
                    "mandatory": "mandatory",
                    "name": "cell purification protocol",
                    "type": "url"
                }
            ]
        },
        {
            "condition": "/attributes/*/*[key eq 'name' && value eq 'material']/../*[key eq 'uri' && value eq 'http://purl.obolibrary.org/obo/OBI_0100060']",
            "name": "cell_culture",
            "rules": [
                {
                    "mandatory": "mandatory",
                    "name": "culture type",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": [
                        "http://purl.obolibrary.org/obo/BTO_0000214"
                    ]
                },
                {
                    "mandatory": "mandatory",
                    "name": "cell type",
                    "type": "ontology_uri",
                    "valid_ancestor_uris": [
                        "http://purl.obolibrary.org/obo/CL_0000000"
                    ]
                },
                {
                    "mandatory": "mandatory",
                    "name": "cell culture protocol",
                    "type": "url",
                    "valid_ancestor_uris": [
                        "http://purl.obolibrary.org/obo/CL_0000000"
                    ]
                },
                {
                    "mandatory": "mandatory",
                    "name": "culture conditions",
                    "type": "text"
                },
                {
                    "mandatory": "mandatory",
                    "name": "number of passages",
                    "type": "number"
                }
            ]
        }
    ]
}